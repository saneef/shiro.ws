<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title @raw="title ?? metadata.title" webc:keep></title>
		<meta name="description" webc:if="description" :content="description" />

		<link rel="stylesheet" href="css/reset.css" />
		<link rel="stylesheet" href="css/fonts.css" />
		<link rel="stylesheet" href="css/base.css" />
		<link rel="stylesheet" href="css/layout.flow.css" />
		<style @raw="getBundle('css')" webc:keep></style>
		<script @raw="getBundle('js')" webc:keep></script>

		<meta name="generator" :content="eleventy.generator" />

		<template webc:type="11ty" 11ty:type="njk">
			{%- set pageUrl %}{{ page.url | url | absoluteUrl(metadata.url) }}{%
			endset -%}
			<link rel="canonical" href="{{ pageUrl }}" />
			{%- set feedUrl %}{{ "/feed.xml" | absoluteUrl(metadata.url) }}{% endset
			-%}
			<link
				rel="alternate"
				href="{{ feedUrl }}"
				title="{{ metadata.title }} Feed"
				type="application/atom+xml"
			/>
		</template>
	</head>
	<body>
		<skip-to-main href="#main"></skip-to-main>
		<page-layout-header>
			<page-logo @text="metadata.title"></page-logo>
			<page-navigation></page-navigation>
		</page-layout-header>

		<main id="main" class="container">
			<div class="flow flow-space-xl">
				<template @raw="content" webc:nokeep></template>
			</div>
		</main>

		<page-layout-footer>
			<p @text="`© 2023–${(new Date()).getFullYear()} ${metadata.author}`"></p>
			<p><a href="/feed.xml">Feed</a></p>
			<p>
				<a :href="`mailto:${metadata.email}`">Email me</a>
				<span class="font-step--2">(My mom or dad will read it to me.)</span>
			</p>
		</page-layout-footer>

		<style @raw="getBundle('css', 'defer')" webc:keep></style>
		<script @raw="getBundle('js', 'defer')" webc:keep></script>
	</body>
</html>
